package com.ruoyi.controller;import com.ruoyi.common.core.controller.BaseController;import com.ruoyi.common.core.domain.AjaxResult;import com.ruoyi.common.core.page.TableDataInfo;import com.ruoyi.common.utils.DateUtils;import com.ruoyi.system.domain.Complain;import com.ruoyi.system.domain.Food;import com.ruoyi.system.service.IComplainService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.*;import java.util.ArrayList;import java.util.List;import static com.ruoyi.common.utils.PageUtils.startPage;@RestController@RequestMapping("/system/complain")public class ComplainController extends BaseController {    @Autowired    private IComplainService complainService;    @GetMapping("/list")    public TableDataInfo list(Complain complain) {        startPage();        List<Complain>complainList = complainService.selectComplainList(complain);        return getDataTable(complainList);    }    @GetMapping("/all")    public List<Complain>getAll(){        return complainService.getAll();    }    @GetMapping(value = "/{id}")    public AjaxResult getInfo(@PathVariable("id") Integer id)    {        Complain complain = complainService.selectComplainById(id);        return AjaxResult.success(complain);    }    @PostMapping    public AjaxResult add(@RequestBody Complain complain){        complain.setCreate_time(DateUtils.getNowDate());        System.out.println(complain);        return toAjax(complainService.insertComplain(complain));    }    @PutMapping    public AjaxResult update(@RequestBody Complain complain){        complain.setEnd_time(DateUtils.getNowDate());        return toAjax(complainService.updateComplain(complain));    }}